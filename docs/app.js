(()=>{var e={471:(e,n,r)=>{(n=r(645)(!1)).push([e.id,":root{--baseOrange: #f1c50e;--darkerOrange: #f65d2c;--blackText: #111111;--whiteBackground: #FAFAFA}*{box-sizing:border-box;margin:0;padding:0}body{background-color:#ececf3;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center}.login{background-color:var(--baseOrange, orange);padding:1em;box-shadow:6px 6px 20px rgba(0,0,0,0.05)}.login__header{color:var(--blackText, black)}.login-form{margin-top:1em;display:flex;flex-direction:column;padding-left:34px;padding-right:34px}.login-form__input{color:var(--blackText, black);background-color:var(--whiteBackground, white);border:none;border-radius:15px;font-size:1em;line-height:25px;outline:none;padding:10px;margin:8px 0px}.login-form:focus{box-shadow:inset 0px 0px 3px 0px rgba(0,0,0,0.75)}.login-form__button{border:1px solid var(--darkerOrange, orange);border-radius:15px;padding:14px 28px 14px 28px;width:100px;background-color:white;color:var(--darkerOrange, orange);margin:20px 0px;align-self:flex-end;cursor:pointer;transition-property:background-color, color, font-weight;transition-duration:.5s}.login-form__button:hover{background-color:var(--darkerOrange, orange);color:white;font-weight:700}.error{font-size:0.8rem;font-style:italic;color:red}.loginTextError,.passwordTextError{font-size:0.8rem;font-style:italic;color:red}.loginInputError,.passwordInputError{border:2px solid red}.lds-ring{position:fixed;display:none;width:80px;height:80px;left:50%;top:50%;transform:translate(-50%, -50%)}.lds-ring div{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border:8px solid var(--darkerOrange, red);border-radius:50%;-webkit-animation:lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;animation:lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;border-color:var(--darkerOrange, red) transparent transparent transparent}.lds-ring div:nth-child(1){-webkit-animation-delay:-0.45s;animation-delay:-0.45s}.lds-ring div:nth-child(2){-webkit-animation-delay:-0.3s;animation-delay:-0.3s}.lds-ring div:nth-child(3){-webkit-animation-delay:-0.15s;animation-delay:-0.15s}@-webkit-keyframes lds-ring{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes lds-ring{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.navigation{position:fixed;top:15px;left:15px}.navigation__link{text-decoration:none;color:var(--blackText, black)}\n",""]),e.exports=n},645:e=>{"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var r=function(e,n){var r,t,o,i=e[1]||"",a=e[3];if(!a)return i;if(n&&"function"==typeof btoa){var s=(r=a,t=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t),"/*# ".concat(o," */")),l=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[i].concat(l).concat([s]).join("\n")}return[i].join("\n")}(n,e);return n[2]?"@media ".concat(n[2]," {").concat(r,"}"):r})).join("")},n.i=function(e,r,t){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(t)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);t&&o[l[0]]||(r&&(l[2]?l[2]="".concat(r," and ").concat(l[2]):l[2]=r),n.push(l))}},n}},425:(e,n,r)=>{var t=r(379),o=r(471);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);t(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},379:(e,n,r)=>{"use strict";var t,o=function(){var e={};return function(n){if(void 0===e[n]){var r=document.querySelector(n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[n]=r}return e[n]}}(),i=[];function a(e){for(var n=-1,r=0;r<i.length;r++)if(i[r].identifier===e){n=r;break}return n}function s(e,n){for(var r={},t=[],o=0;o<e.length;o++){var s=e[o],l=n.base?s[0]+n.base:s[0],c=r[l]||0,d="".concat(l," ").concat(c);r[l]=c+1;var u=a(d),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==u?(i[u].references++,i[u].updater(p)):i.push({identifier:d,updater:m(p,n),references:1}),t.push(d)}return t}function l(e){var n=document.createElement("style"),t=e.attributes||{};if(void 0===t.nonce){var i=r.nc;i&&(t.nonce=i)}if(Object.keys(t).forEach((function(e){n.setAttribute(e,t[e])})),"function"==typeof e.insert)e.insert(n);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}return n}var c,d=(c=[],function(e,n){return c[e]=n,c.filter(Boolean).join("\n")});function u(e,n,r,t){var o=r?"":t.media?"@media ".concat(t.media," {").concat(t.css,"}"):t.css;if(e.styleSheet)e.styleSheet.cssText=d(n,o);else{var i=document.createTextNode(o),a=e.childNodes;a[n]&&e.removeChild(a[n]),a.length?e.insertBefore(i,a[n]):e.appendChild(i)}}function p(e,n,r){var t=r.css,o=r.media,i=r.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}var f=null,g=0;function m(e,n){var r,t,o;if(n.singleton){var i=g++;r=f||(f=l(n)),t=u.bind(null,r,i,!1),o=u.bind(null,r,i,!0)}else r=l(n),t=p.bind(null,r,n),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else o()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===t&&(t=Boolean(window&&document&&document.all&&!window.atob)),t));var r=s(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<r.length;t++){var o=a(r[t]);i[o].references--}for(var l=s(e,n),c=0;c<r.length;c++){var d=a(r[c]);0===i[d].references&&(i[d].updater(),i.splice(d,1))}r=l}}}}},n={};function r(t){if(n[t])return n[t].exports;var o=n[t]={id:t,exports:{}};return e[t](o,o.exports,r),o.exports}(()=>{"use strict";var e={},n=function n(r,t){"home"===r&&(document.querySelector("#app").innerHTML='\n   <div id="home">\n   <div class="login">\n    <h1 class="login__header"><%= title %></h1>\n    <div class="form">\n    <form class="login-form">\n        <input id="login" class="login-form__input" type="text" placeholder="Login" name="login" required>\n        <input id="password" class="login-form__input" type="password" placeholder="Password" name="password" required>\n        <button class="login-form__button" type="submit"><%= action %></button>\n    </form>\n    </div>\n    </div>\n    <div class="lds-ring"><div></div><div></div><div></div><div></div></div>\n   </div>'),"success"===r&&(document.querySelector("#app").innerHTML='\n    <div id="success" class="login">\n        <nav class="navigation">\n            <a class="navigation__link" href="#">← Powrót do logowania</a>\n        </nav>\n        <h1><%= title %></h1>\n    </div>\n    ');var o=/\W/.test(r)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+r.replace(/[\r\t\n]/g," ").split("&lt;%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%&gt;/g,"',$1,'").split("\t").join("');").split("%&gt;").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):e[r]=e[r]||n(document.getElementById(r).innerHTML);return t?o(t):o},t=null,o=[],i={},a=function(e,n,r){var t=[];r.prototype.$on=function(e,n,r){return o.push([e,n,r])},r.prototype.$refresh=function(){return t.forEach((function(e){return e()}))},i[e]={templateId:n,controller:r,onRefresh:t.push.bind(t)}},s=function(e){for(var n=0;n<o.length;n++)for(var r=t.querySelectorAll(o[n][0]),i=0;i<r.length;i++)r[i][e].apply(r[i],o[n].slice(1))},l=function(){t=t||document.getElementById("app"),s("removeEventListener"),o=[];var e=location.hash.slice(1)||"/",r=i[e]||i["*"];if(r&&r.controller){var a=new r.controller;r.onRefresh((function(){s("removeEventListener"),t.innerHTML=n(r.templateId,a),s("addEventListener")})),a.$refresh()}};window.addEventListener("hashchange",l),window.addEventListener("load",l),r(425);var c=function(e,n){var r=document.createElement("p");return r.className=e,r.appendChild(document.createTextNode(n)),r};a("/","home",(function(){this.title="Logowanie",this.action="Send",this.$on(".login-form__button","click",(function(e){var n=function(){var e=document.querySelector("#login");if(0==e.value.length){if(!e.classList.contains("loginInputError")){e.classList.add("loginInputError");var n=c("loginTextError","To pole nie może być puste!");e.parentElement.insertBefore(n,e.nextElementSibling)}return!1}return e.classList.remove("loginInputError"),e.value=e.value.trim(),document.querySelector(".loginTextError")&&document.querySelector(".loginTextError").remove(),!0}(),r=function(){var e=document.querySelector("#password");if(0==e.value.length){if(!e.classList.contains("passwordInputError")){e.classList.add("passwordInputError");var n=c("passwordTextError","To pole nie może być puste!");e.parentElement.insertBefore(n,e.nextElementSibling)}return!1}return e.classList.remove("passwordInputError"),e.value=e.value.trim(),document.querySelector(".passwordTextError")&&document.querySelector(".passwordTextError").remove(),!0}();if(console.log("login: ".concat(n,", password: ").concat(r)),n&&r){var t={username:document.querySelector("#login").value,password:document.querySelector("#password").value},o=new Headers;o.append("Content-Type","application/json"),document.querySelector(".lds-ring").style.display="block",fetch("https://zwzt-zadanie.netlify.app/api/login",{method:"post",headers:o,body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){if(document.querySelector(".lds-ring").style.display="none","Login success!"===e.message){var n=window.location.href;"#"===n.charAt(n.length-1)&&(n=n.slice(0,-1)),sessionStorage.setItem("login","success"),location.replace("".concat(n,"#/success"))}else if(!document.querySelector(".error")){var r=document.createElement("div");r.className="error";var t=document.createTextNode("Wprowadziłeś nieprawidłowy login lub hasło!");r.appendChild(t),document.querySelector(".login").appendChild(r),sessionStorage.setItem("login","failed")}})),document.querySelector("#login").value="",document.querySelector("#password").value="",e.preventDefault()}else e.preventDefault()}))})),a("/success","success",(function(){"success"===sessionStorage.getItem("login")?this.title="Logowanie przebiegło pomyślnie.":this.title="Strona dostępna tylko dla zalogowanych."})),a("*","404",(function(){}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96YWRhbmllLy4vc3JjL3N0eWxlcy9zdHlsZS5zY3NzIiwid2VicGFjazovL3phZGFuaWUvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL3phZGFuaWUvLi9zcmMvc3R5bGVzL3N0eWxlLnNjc3M/NDU1OCIsIndlYnBhY2s6Ly96YWRhbmllLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL3phZGFuaWUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vemFkYW5pZS8uL2VuZ2luZS5qcyIsIndlYnBhY2s6Ly96YWRhbmllLy4vc3JjL3NjcmlwdHMvaG9tZS5qcyIsIndlYnBhY2s6Ly96YWRhbmllLy4vc3JjL3NjcmlwdHMvc3VjY2Vzcy5qcyIsIndlYnBhY2s6Ly96YWRhbmllLy4vcm91dGVyLmpzIiwid2VicGFjazovL3phZGFuaWUvLi9zcmMvc2NyaXB0cy92YWxpZGF0ZUZvcm0uanMiLCJ3ZWJwYWNrOi8vemFkYW5pZS8uL3NyYy9hcHAuanMiXSwibmFtZXMiOlsiZXhwb3J0cyIsIl9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyIsInB1c2giLCJtb2R1bGUiLCJpZCIsInVzZVNvdXJjZU1hcCIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsInNvdXJjZU1hcCIsImJhc2U2NCIsImRhdGEiLCJjc3NNYXBwaW5nIiwiYnRvYSIsInNvdXJjZU1hcHBpbmciLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb25jYXQiLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJqb2luIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImkiLCJtb2R1bGVzIiwibWVkaWFRdWVyeSIsImRlZHVwZSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJsZW5ndGgiLCJfaSIsImFwaSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibG9jYWxzIiwibWVtbyIsImdldFRhcmdldCIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInN0eWxlc0luRG9tIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibW9kdWxlc1RvRG9tIiwib3B0aW9ucyIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsImJhc2UiLCJjb3VudCIsImluZGV4Iiwib2JqIiwiY3NzIiwibWVkaWEiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZFN0eWxlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsIm5vbmNlIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsIkJvb2xlYW4iLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiZmlyc3RDaGlsZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJ1cGRhdGUiLCJzdHlsZUluZGV4IiwiYmluZCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJhbGwiLCJhdG9iIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsInByb3RvdHlwZSIsImNhbGwiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaW5kZXgiLCJzcGxpY2UiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FjaGUiLCJlbmdpbmUiLCJzdHIiLCJpbm5lckhUTUwiLCJmbiIsInRlc3QiLCJGdW5jdGlvbiIsInJlcGxhY2UiLCJzcGxpdCIsImdldEVsZW1lbnRCeUlkIiwiZWwiLCJldmVudHMiLCJyb3V0ZXMiLCJyb3V0ZSIsInBhdGgiLCJ0ZW1wbGF0ZUlkIiwiY29udHJvbGxlciIsImxpc3RlbmVycyIsIiRvbiIsInNlbGVjdG9yIiwiZXZ0IiwiaGFuZGxlciIsIiRyZWZyZXNoIiwib25SZWZyZXNoIiwiZm9yRWFjaEV2ZW50IiwiZm5OYW1lIiwiZWxzIiwicXVlcnlTZWxlY3RvckFsbCIsImoiLCJhcHBseSIsInNsaWNlIiwicm91dGVyIiwidXJsIiwibG9jYXRpb24iLCJoYXNoIiwiY3RybCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjcmVhdGVFcnJvciIsImNsYXNzTmFtZSIsInRleHQiLCJuZXdFcnJvciIsInRpdGxlIiwiYWN0aW9uIiwiZXZlbnQiLCJsb2dpblZhbGlkYXRpb24iLCJsb2dpbiIsInZhbHVlIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJhZGQiLCJwYXJlbnRFbGVtZW50IiwibmV4dEVsZW1lbnRTaWJsaW5nIiwidHJpbSIsInZhbGlkYXRlTG9naW4iLCJwYXNzd29yZFZhbGlkYXRpb24iLCJwYXNzd29yZCIsInZhbGlkYXRlUGFzc3dvcmQiLCJjb25zb2xlIiwibG9nIiwib2IiLCJ1c2VybmFtZSIsImhlYWRlcnMiLCJIZWFkZXJzIiwiYXBwZW5kIiwiZGlzcGxheSIsImZldGNoIiwibWV0aG9kIiwiYm9keSIsInRoZW4iLCJyZXNwb25zZSIsImpzb24iLCJtZXNzYWdlIiwibGluayIsImhyZWYiLCJjaGFyQXQiLCJzZXNzaW9uU3RvcmFnZSIsInNldEl0ZW0iLCJlcnJvckRpdiIsImVycm9yVGV4dCIsInByZXZlbnREZWZhdWx0IiwiZ2V0SXRlbSJdLCJtYXBwaW5ncyI6IjRCQUVBQSxFQURrQyxFQUFRLElBQ2hDQyxFQUE0QixJQUU5QkMsS0FBSyxDQUFDQyxFQUFPQyxHQUFJLGswRUFBbTBFLEtBRTUxRUQsRUFBT0gsUUFBVUEsRyxxQkNFakJHLEVBQU9ILFFBQVUsU0FBVUssR0FDekIsSUFBSUMsRUFBTyxHQXVEWCxPQXJEQUEsRUFBS0MsU0FBVyxXQUNkLE9BQU9DLEtBQUtDLEtBQUksU0FBVUMsR0FDeEIsSUFBSUMsRUFzRFYsU0FBZ0NELEVBQU1MLEdBQ3BDLElBb0JpQk8sRUFFYkMsRUFDQUMsRUF2QkFILEVBQVVELEVBQUssSUFBTSxHQUVyQkssRUFBYUwsRUFBSyxHQUV0QixJQUFLSyxFQUNILE9BQU9KLEVBR1QsR0FBSU4sR0FBZ0MsbUJBQVRXLEtBQXFCLENBQzlDLElBQUlDLEdBV1dMLEVBWGVHLEVBYTVCRixFQUFTRyxLQUFLRSxTQUFTQyxtQkFBbUJDLEtBQUtDLFVBQVVULE1BQ3pERSxFQUFPLCtEQUErRFEsT0FBT1QsR0FDMUUsT0FBT1MsT0FBT1IsRUFBTSxRQWRyQlMsRUFBYVIsRUFBV1MsUUFBUWYsS0FBSSxTQUFVZ0IsR0FDaEQsTUFBTyxpQkFBaUJILE9BQU9QLEVBQVdXLFlBQWMsSUFBSUosT0FBT0csRUFBUSxVQUU3RSxNQUFPLENBQUNkLEdBQVNXLE9BQU9DLEdBQVlELE9BQU8sQ0FBQ0wsSUFBZ0JVLEtBQUssTUFHbkUsTUFBTyxDQUFDaEIsR0FBU2dCLEtBQUssTUF2RUpDLENBQXVCbEIsRUFBTUwsR0FFM0MsT0FBSUssRUFBSyxHQUNBLFVBQVVZLE9BQU9aLEVBQUssR0FBSSxNQUFNWSxPQUFPWCxFQUFTLEtBR2xEQSxLQUNOZ0IsS0FBSyxLQUtWckIsRUFBS3VCLEVBQUksU0FBVUMsRUFBU0MsRUFBWUMsR0FDZixpQkFBWkYsSUFFVEEsRUFBVSxDQUFDLENB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Q3pILFNBQVNDLGNBQWMsYUFBYXdILE1BQU0sR0FDMUNILEVBQU1vQyxzQkFFUnBDLEVBQU1vQyx1QkFLZGxFLEVBQU0sV0FBWSxXQUFXLFdBQ1ksWUFBcEM4RCxlQUFlSyxRQUFRLFNBQ3RCL0wsS0FBS3dKLE1BQVEsa0NBRWJ4SixLQUFLd0osTUFBUSw2Q0FJbkI1QixFQUFNLElBQUssT0FBTyxnQiIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiOnJvb3R7LS1iYXNlT3JhbmdlOiAjZjFjNTBlOy0tZGFya2VyT3JhbmdlOiAjZjY1ZDJjOy0tYmxhY2tUZXh0OiAjMTExMTExOy0td2hpdGVCYWNrZ3JvdW5kOiAjRkFGQUZBfSp7Ym94LXNpemluZzpib3JkZXItYm94O21hcmdpbjowO3BhZGRpbmc6MH1ib2R5e2JhY2tncm91bmQtY29sb3I6I2VjZWNmMzt3aWR0aDoxMDB2dztoZWlnaHQ6MTAwdmg7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5sb2dpbntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWJhc2VPcmFuZ2UsIG9yYW5nZSk7cGFkZGluZzoxZW07Ym94LXNoYWRvdzo2cHggNnB4IDIwcHggcmdiYSgwLDAsMCwwLjA1KX0ubG9naW5fX2hlYWRlcntjb2xvcjp2YXIoLS1ibGFja1RleHQsIGJsYWNrKX0ubG9naW4tZm9ybXttYXJnaW4tdG9wOjFlbTtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO3BhZGRpbmctbGVmdDozNHB4O3BhZGRpbmctcmlnaHQ6MzRweH0ubG9naW4tZm9ybV9faW5wdXR7Y29sb3I6dmFyKC0tYmxhY2tUZXh0LCBibGFjayk7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13aGl0ZUJhY2tncm91bmQsIHdoaXRlKTtib3JkZXI6bm9uZTtib3JkZXItcmFkaXVzOjE1cHg7Zm9udC1zaXplOjFlbTtsaW5lLWhlaWdodDoyNXB4O291dGxpbmU6bm9uZTtwYWRkaW5nOjEwcHg7bWFyZ2luOjhweCAwcHh9LmxvZ2luLWZvcm06Zm9jdXN7Ym94LXNoYWRvdzppbnNldCAwcHggMHB4IDNweCAwcHggcmdiYSgwLDAsMCwwLjc1KX0ubG9naW4tZm9ybV9fYnV0dG9ue2JvcmRlcjoxcHggc29saWQgdmFyKC0tZGFya2VyT3JhbmdlLCBvcmFuZ2UpO2JvcmRlci1yYWRpdXM6MTVweDtwYWRkaW5nOjE0cHggMjhweCAxNHB4IDI4cHg7d2lkdGg6MTAwcHg7YmFja2dyb3VuZC1jb2xvcjp3aGl0ZTtjb2xvcjp2YXIoLS1kYXJrZXJPcmFuZ2UsIG9yYW5nZSk7bWFyZ2luOjIwcHggMHB4O2FsaWduLXNlbGY6ZmxleC1lbmQ7Y3Vyc29yOnBvaW50ZXI7dHJhbnNpdGlvbi1wcm9wZXJ0eTpiYWNrZ3JvdW5kLWNvbG9yLCBjb2xvciwgZm9udC13ZWlnaHQ7dHJhbnNpdGlvbi1kdXJhdGlvbjouNXN9LmxvZ2luLWZvcm1fX2J1dHRvbjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWRhcmtlck9yYW5nZSwgb3JhbmdlKTtjb2xvcjp3aGl0ZTtmb250LXdlaWdodDo3MDB9LmVycm9ye2ZvbnQtc2l6ZTowLjhyZW07Zm9udC1zdHlsZTppdGFsaWM7Y29sb3I6cmVkfS5sb2dpblRleHRFcnJvciwucGFzc3dvcmRUZXh0RXJyb3J7Zm9udC1zaXplOjAuOHJlbTtmb250LXN0eWxlOml0YWxpYztjb2xvcjpyZWR9LmxvZ2luSW5wdXRFcnJvciwucGFzc3dvcmRJbnB1dEVycm9ye2JvcmRlcjoycHggc29saWQgcmVkfS5sZHMtcmluZ3twb3NpdGlvbjpmaXhlZDtkaXNwbGF5Om5vbmU7d2lkdGg6ODBweDtoZWlnaHQ6ODBweDtsZWZ0OjUwJTt0b3A6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwgLTUwJSl9Lmxkcy1yaW5nIGRpdntib3gtc2l6aW5nOmJvcmRlci1ib3g7ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDo2NHB4O2hlaWdodDo2NHB4O21hcmdpbjo4cHg7Ym9yZGVyOjhweCBzb2xpZCB2YXIoLS1kYXJrZXJPcmFuZ2UsIHJlZCk7Ym9yZGVyLXJhZGl1czo1MCU7LXdlYmtpdC1hbmltYXRpb246bGRzLXJpbmcgMS4ycyBjdWJpYy1iZXppZXIoMC41LCAwLCAwLjUsIDEpIGluZmluaXRlO2FuaW1hdGlvbjpsZHMtcmluZyAxLjJzIGN1YmljLWJlemllcigwLjUsIDAsIDAuNSwgMSkgaW5maW5pdGU7Ym9yZGVyLWNvbG9yOnZhcigtLWRhcmtlck9yYW5nZSwgcmVkKSB0cmFuc3BhcmVudCB0cmFuc3BhcmVudCB0cmFuc3BhcmVudH0ubGRzLXJpbmcgZGl2Om50aC1jaGlsZCgxKXstd2Via2l0LWFuaW1hdGlvbi1kZWxheTotMC40NXM7YW5pbWF0aW9uLWRlbGF5Oi0wLjQ1c30ubGRzLXJpbmcgZGl2Om50aC1jaGlsZCgyKXstd2Via2l0LWFuaW1hdGlvbi1kZWxheTotMC4zczthbmltYXRpb24tZGVsYXk6LTAuM3N9Lmxkcy1yaW5nIGRpdjpudGgtY2hpbGQoMyl7LXdlYmtpdC1hbmltYXRpb24tZGVsYXk6LTAuMTVzO2FuaW1hdGlvbi1kZWxheTotMC4xNXN9QC13ZWJraXQta2V5ZnJhbWVzIGxkcy1yaW5nezAle3RyYW5zZm9ybTpyb3RhdGUoMGRlZyl9MTAwJXt0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyl9fUBrZXlmcmFtZXMgbGRzLXJpbmd7MCV7dHJhbnNmb3JtOnJvdGF0ZSgwZGVnKX0xMDAle3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKX19Lm5hdmlnYXRpb257cG9zaXRpb246Zml4ZWQ7dG9wOjE1cHg7bGVmdDoxNXB4fS5uYXZpZ2F0aW9uX19saW5re3RleHQtZGVjb3JhdGlvbjpub25lO2NvbG9yOnZhcigtLWJsYWNrVGV4dCwgYmxhY2spfVxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcblxuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCAnJykuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgcmV0dXJuIFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbn0iLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbMV0udXNlWzJdIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLnNjc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzIHx8IHt9OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxudmFyIHN0eWxlc0luRG9tID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5Eb20ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5Eb21baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzSW5Eb20ucHVzaCh7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHZhciBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBhdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChvYmouY3NzLCBcIn1cIikgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBTaW1wbGUgSmF2YVNjcmlwdCBUZW1wbGF0aW5nXHJcbi8vIEpvaG4gUmVzaWcgLSBodHRwczovL2pvaG5yZXNpZy5jb20vIC0gTUlUIExpY2Vuc2VkXHJcbmltcG9ydCBob21lIGZyb20gJy4vc3JjL3NjcmlwdHMvaG9tZSdcclxuaW1wb3J0IHN1Y2Nlc3MgZnJvbSAnLi9zcmMvc2NyaXB0cy9zdWNjZXNzJ1xyXG5jb25zdCBjYWNoZSA9IHt9O1xyXG5cclxuZXhwb3J0IGNvbnN0IGVuZ2luZSA9IChzdHIsIGRhdGEpID0+IHtcclxuICAvLyBGaWd1cmUgb3V0IGlmIHdlJ3JlIGdldHRpbmcgYSB0ZW1wbGF0ZSwgb3IgaWYgd2UgbmVlZCB0b1xyXG4gIC8vIGxvYWQgdGhlIHRlbXBsYXRlIC0gYW5kIGJlIHN1cmUgdG8gY2FjaGUgdGhlIHJlc3VsdC5cclxuICBpZihzdHIgPT09ICdob21lJyl7XHJcbiAgICBob21lKClcclxuICB9XHJcbiAgaWYoc3RyID09PSAnc3VjY2Vzcycpe1xyXG4gICAgc3VjY2VzcygpXHJcbiAgfVxyXG5cclxuICBjb25zdCBmbiA9ICEvXFxXLy50ZXN0KHN0cikgPyBjYWNoZVtzdHJdID0gY2FjaGVbc3RyXSB8fCBlbmdpbmUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3RyKS5pbm5lckhUTUwpIDpcclxuICAgIC8vIEdlbmVyYXRlIGEgcmV1c2FibGUgZnVuY3Rpb24gdGhhdCB3aWxsIHNlcnZlIGFzIGEgdGVtcGxhdGVcclxuICAgIC8vIGdlbmVyYXRvciAoYW5kIHdoaWNoIHdpbGwgYmUgY2FjaGVkKS5cclxuICAgIG5ldyBGdW5jdGlvbihcIm9ialwiLFxyXG4gICAgICBcInZhciBwPVtdLHByaW50PWZ1bmN0aW9uKCl7cC5wdXNoLmFwcGx5KHAsYXJndW1lbnRzKTt9O1wiICsgICAgICAgICAgICAgXHJcbiAgICAgIC8vIEludHJvZHVjZSB0aGUgZGF0YSBhcyBsb2NhbCB2YXJpYWJsZXMgdXNpbmcgd2l0aCgpe31cclxuICAgICAgXCJ3aXRoKG9iail7cC5wdXNoKCdcIiArXHJcbiAgICAgIC8vIENvbnZlcnQgdGhlIHRlbXBsYXRlIGludG8gcHVyZSBKYXZhU2NyaXB0XHJcbiAgICAgIHN0clxyXG4gICAgICAgIC5yZXBsYWNlKC9bXFxyXFx0XFxuXS9nLCBcIiBcIilcclxuICAgICAgICAuc3BsaXQoXCImbHQ7JVwiKS5qb2luKFwiXFx0XCIpXHJcbiAgICAgICAgLnJlcGxhY2UoLygoXnwlPilbXlxcdF0qKScvZywgXCIkMVxcclwiKVxyXG4gICAgICAgIC5yZXBsYWNlKC9cXHQ9KC4qPyklJmd0Oy9nLCBcIicsJDEsJ1wiKVxyXG4gICAgICAgIC5zcGxpdChcIlxcdFwiKS5qb2luKFwiJyk7XCIpXHJcbiAgICAgICAgLnNwbGl0KFwiJSZndDtcIikuam9pbihcInAucHVzaCgnXCIpXHJcbiAgICAgICAgLnNwbGl0KFwiXFxyXCIpLmpvaW4oXCJcXFxcJ1wiKVxyXG4gICAgKyBcIicpO31yZXR1cm4gcC5qb2luKCcnKTtcIik7XHJcbiAgIFxyXG4gIC8vIFByb3ZpZGUgc29tZSBiYXNpYyBjdXJyeWluZyB0byB0aGUgdXNlclxyXG4gIHJldHVybiBkYXRhID8gZm4oIGRhdGEgKSA6IGZuO1xyXG59O1xyXG4iLCJjb25zdCBob21lID0gKCkgPT57XHJcbiAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhcHAnKS5pbm5lckhUTUwgPWBcclxuICAgPGRpdiBpZD1cImhvbWVcIj5cclxuICAgPGRpdiBjbGFzcz1cImxvZ2luXCI+XHJcbiAgICA8aDEgY2xhc3M9XCJsb2dpbl9faGVhZGVyXCI+PCU9IHRpdGxlICU+PC9oMT5cclxuICAgIDxkaXYgY2xhc3M9XCJmb3JtXCI+XHJcbiAgICA8Zm9ybSBjbGFzcz1cImxvZ2luLWZvcm1cIj5cclxuICAgICAgICA8aW5wdXQgaWQ9XCJsb2dpblwiIGNsYXNzPVwibG9naW4tZm9ybV9faW5wdXRcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiTG9naW5cIiBuYW1lPVwibG9naW5cIiByZXF1aXJlZD5cclxuICAgICAgICA8aW5wdXQgaWQ9XCJwYXNzd29yZFwiIGNsYXNzPVwibG9naW4tZm9ybV9faW5wdXRcIiB0eXBlPVwicGFzc3dvcmRcIiBwbGFjZWhvbGRlcj1cIlBhc3N3b3JkXCIgbmFtZT1cInBhc3N3b3JkXCIgcmVxdWlyZWQ+XHJcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImxvZ2luLWZvcm1fX2J1dHRvblwiIHR5cGU9XCJzdWJtaXRcIj48JT0gYWN0aW9uICU+PC9idXR0b24+XHJcbiAgICA8L2Zvcm0+XHJcbiAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cImxkcy1yaW5nXCI+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48L2Rpdj5cclxuICAgPC9kaXY+YFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBob21lIiwiY29uc3Qgc3VjY2VzcyA9ICgpID0+e1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FwcCcpLmlubmVySFRNTCA9YFxyXG4gICAgPGRpdiBpZD1cInN1Y2Nlc3NcIiBjbGFzcz1cImxvZ2luXCI+XHJcbiAgICAgICAgPG5hdiBjbGFzcz1cIm5hdmlnYXRpb25cIj5cclxuICAgICAgICAgICAgPGEgY2xhc3M9XCJuYXZpZ2F0aW9uX19saW5rXCIgaHJlZj1cIiNcIj7ihpAgUG93csOzdCBkbyBsb2dvd2FuaWE8L2E+XHJcbiAgICAgICAgPC9uYXY+XHJcbiAgICAgICAgPGgxPjwlPSB0aXRsZSAlPjwvaDE+XHJcbiAgICA8L2Rpdj5cclxuICAgIGBcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgc3VjY2VzcyIsIi8vIEphdmFTY3JpcHQgcm91dGVyIGluIDIwIGxpbmVzXHJcbi8vIEpvYWtpbSBDYXJsc3RlaW4gLSBodHRwczovL2pvYWtpbS5iZW5nLnNlL1xyXG5pbXBvcnQgeyBlbmdpbmUgfSBmcm9tICcuL2VuZ2luZSc7XHJcbmxldCBlbCA9IG51bGw7XHJcbmxldCBldmVudHMgPSBbXTtcclxuY29uc3Qgcm91dGVzID0ge307XHJcblxyXG5leHBvcnQgY29uc3Qgcm91dGUgPSAocGF0aCwgdGVtcGxhdGVJZCwgY29udHJvbGxlcikgPT4ge1xyXG4gIGNvbnN0IGxpc3RlbmVycyA9IFtdO1xyXG4gIGNvbnRyb2xsZXIucHJvdG90eXBlLiRvbiA9IChzZWxlY3RvciwgZXZ0LCBoYW5kbGVyKSA9PiBldmVudHMucHVzaChbc2VsZWN0b3IsIGV2dCwgaGFuZGxlcl0pO1xyXG4gIGNvbnRyb2xsZXIucHJvdG90eXBlLiRyZWZyZXNoID0gKCkgPT4gbGlzdGVuZXJzLmZvckVhY2goZm4gPT4gZm4oKSk7XHJcbiAgcm91dGVzW3BhdGhdID0ge1xyXG4gICAgdGVtcGxhdGVJZDogdGVtcGxhdGVJZCxcclxuICAgIGNvbnRyb2xsZXI6IGNvbnRyb2xsZXIsXHJcbiAgICBvblJlZnJlc2g6IGxpc3RlbmVycy5wdXNoLmJpbmQobGlzdGVuZXJzKVxyXG4gIH07XHJcbn07XHJcblxyXG5jb25zdCBmb3JFYWNoRXZlbnQgPSBmbk5hbWUgPT4ge1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBjb25zdCBlbHMgPSBlbC5xdWVyeVNlbGVjdG9yQWxsKGV2ZW50c1tpXVswXSk7XHJcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGVscy5sZW5ndGg7IGorKykge1xyXG4gICAgICBlbHNbal1bZm5OYW1lXS5hcHBseShlbHNbal0sIGV2ZW50c1tpXS5zbGljZSgxKSk7XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3Qgcm91dGVyID0gKCkgPT4ge1xyXG4gIC8vIExhenkgbG9hZCB2aWV3IGVsZW1lbnQ6XHJcbiAgZWwgPSBlbCB8fCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJyk7XHJcbiAgLy8gUmVtb3ZlIGN1cnJlbnQgZXZlbnQgbGlzdGVuZXJzOlxyXG4gIGZvckVhY2hFdmVudCgncmVtb3ZlRXZlbnRMaXN0ZW5lcicpO1xyXG4gIC8vIENsZWFyIGV2ZW50cywgdG8gcHJlcGFyZSBmb3IgbmV4dCByZW5kZXI6XHJcbiAgZXZlbnRzID0gW107XHJcbiAgLy8gQ3VycmVudCByb3V0ZSB1cmwgKGdldHRpbmcgcmlkIG9mICcjJyBpbiBoYXNoIGFzIHdlbGwpOlxyXG4gIGNvbnN0IHVybCA9IGxvY2F0aW9uLmhhc2guc2xpY2UoMSkgfHwgJy8nO1xyXG4gIC8vIEdldCByb3V0ZSBieSB1cmwgb3IgZmFsbGJhY2sgaWYgaXQgZG9lcyBub3QgZXhpc3Q6XHJcbiAgY29uc3Qgcm91dGUgPSByb3V0ZXNbdXJsXSB8fCByb3V0ZXNbJyonXTtcclxuICBpZiAocm91dGUgJiYgcm91dGUuY29udHJvbGxlcikge1xyXG4gICAgY29uc3QgY3RybCA9IG5ldyByb3V0ZS5jb250cm9sbGVyKCk7XHJcbiAgICAvLyBMaXN0ZW4gb24gcm91dGUgcmVmcmVzaGVzOlxyXG4gICAgcm91dGUub25SZWZyZXNoKCgpID0+IHtcclxuICAgICAgZm9yRWFjaEV2ZW50KCdyZW1vdmVFdmVudExpc3RlbmVyJyk7XHJcbiAgICAgIC8vIFJlbmRlciByb3V0ZSB0ZW1wbGF0ZSB3aXRoIEpvaG4gUmVzaWcncyB0ZW1wbGF0ZSBlbmdpbmU6XHJcbiAgICAgIGVsLmlubmVySFRNTCA9IGVuZ2luZShyb3V0ZS50ZW1wbGF0ZUlkLCBjdHJsKTtcclxuICAgICAgZm9yRWFjaEV2ZW50KCdhZGRFdmVudExpc3RlbmVyJyk7XHJcbiAgICB9KTtcclxuICAgIC8vIFRyaWdnZXIgdGhlIGZpcnN0IHJlZnJlc2g6XHJcbiAgICBjdHJsLiRyZWZyZXNoKCk7XHJcbiAgfVxyXG59O1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCByb3V0ZXIpO1xyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHJvdXRlcik7IiwiZXhwb3J0IGNvbnN0IHZhbGlkYXRlTG9naW4gPSAoKSA9PntcclxuICAgIGNvbnN0IGxvZ2luID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xvZ2luJylcclxuICAgIGlmKGxvZ2luLnZhbHVlLmxlbmd0aCA9PSAwKXtcclxuICAgICAgICBpZighbG9naW4uY2xhc3NMaXN0LmNvbnRhaW5zKCdsb2dpbklucHV0RXJyb3InKSl7XHJcbiAgICAgICAgICAgIGxvZ2luLmNsYXNzTGlzdC5hZGQoJ2xvZ2luSW5wdXRFcnJvcicpXHJcbiAgICAgICAgICAgIGxldCBuZXdFcnJvciA9IGNyZWF0ZUVycm9yKCdsb2dpblRleHRFcnJvcicsIFwiVG8gcG9sZSBuaWUgbW/FvGUgYnnEhyBwdXN0ZSFcIilcclxuICAgICAgICAgICAgbG9naW4ucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUobmV3RXJyb3IsIGxvZ2luLm5leHRFbGVtZW50U2libGluZylcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBsb2dpbi5jbGFzc0xpc3QucmVtb3ZlKCdsb2dpbklucHV0RXJyb3InKVxyXG4gICAgICAgIGxvZ2luLnZhbHVlID0gbG9naW4udmFsdWUudHJpbSgpXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ2luVGV4dEVycm9yJykgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW5UZXh0RXJyb3InKS5yZW1vdmUoKSA6ICcnXHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlUGFzc3dvcmQgPSAoKSA9PntcclxuICAgIGNvbnN0IHBhc3N3b3JkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Bhc3N3b3JkJylcclxuXHJcbiAgICBpZihwYXNzd29yZC52YWx1ZS5sZW5ndGggPT0gMCl7XHJcbiAgICAgICAgaWYoIXBhc3N3b3JkLmNsYXNzTGlzdC5jb250YWlucygncGFzc3dvcmRJbnB1dEVycm9yJykpe1xyXG4gICAgICAgICAgICBwYXNzd29yZC5jbGFzc0xpc3QuYWRkKCdwYXNzd29yZElucHV0RXJyb3InKVxyXG4gICAgICAgICAgICBsZXQgbmV3RXJyb3IgPSBjcmVhdGVFcnJvcigncGFzc3dvcmRUZXh0RXJyb3InLCBcIlRvIHBvbGUgbmllIG1vxbxlIGJ5xIcgcHVzdGUhXCIpXHJcbiAgICAgICAgICAgIHBhc3N3b3JkLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKG5ld0Vycm9yLCBwYXNzd29yZC5uZXh0RWxlbWVudFNpYmxpbmcpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgcGFzc3dvcmQuY2xhc3NMaXN0LnJlbW92ZSgncGFzc3dvcmRJbnB1dEVycm9yJylcclxuICAgICAgICBwYXNzd29yZC52YWx1ZSA9IHBhc3N3b3JkLnZhbHVlLnRyaW0oKVxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYXNzd29yZFRleHRFcnJvcicpID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhc3N3b3JkVGV4dEVycm9yJykucmVtb3ZlKCkgOiAnJ1xyXG4gICAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuY29uc3QgY3JlYXRlRXJyb3IgPSAoY2xhc3NOYW1lLCB0ZXh0KSA9PiB7XHJcbiAgICBsZXQgbmV3RXJyb3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcclxuICAgIG5ld0Vycm9yLmNsYXNzTmFtZSA9IGNsYXNzTmFtZVxyXG4gICAgbmV3RXJyb3IuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCkpXHJcbiAgICByZXR1cm4gbmV3RXJyb3JcclxufSIsImltcG9ydCB7IHJvdXRlIH0gZnJvbSAnLi4vcm91dGVyJztcclxuaW1wb3J0ICcuL3N0eWxlcy9zdHlsZS5zY3NzJztcclxuaW1wb3J0IHt2YWxpZGF0ZUxvZ2luLCB2YWxpZGF0ZVBhc3N3b3JkfSBmcm9tICcuL3NjcmlwdHMvdmFsaWRhdGVGb3JtJztcclxuXHJcbnJvdXRlKCcvJywgJ2hvbWUnLCBmdW5jdGlvbigpIHtcclxuICB0aGlzLnRpdGxlID0gJ0xvZ293YW5pZSc7XHJcbiAgdGhpcy5hY3Rpb24gPSAnU2VuZCc7XHJcbiAgdGhpcy4kb24oJy5sb2dpbi1mb3JtX19idXR0b24nLCAnY2xpY2snLCAoZXZlbnQpPT57XHJcbiAgICBsZXQgbG9naW5WYWxpZGF0aW9uID0gdmFsaWRhdGVMb2dpbigpXHJcbiAgICBsZXQgcGFzc3dvcmRWYWxpZGF0aW9uID0gdmFsaWRhdGVQYXNzd29yZCgpXHJcbiAgICBjb25zb2xlLmxvZyhgbG9naW46ICR7bG9naW5WYWxpZGF0aW9ufSwgcGFzc3dvcmQ6ICR7cGFzc3dvcmRWYWxpZGF0aW9ufWApXHJcbiAgICBpZihsb2dpblZhbGlkYXRpb24gJiYgcGFzc3dvcmRWYWxpZGF0aW9uKXtcclxuICAgICAgICBjb25zdCBvYiA9IHtcclxuICAgICAgICAgICAgdXNlcm5hbWU6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsb2dpbicpLnZhbHVlLFxyXG4gICAgICAgICAgICBwYXNzd29yZDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Bhc3N3b3JkJykudmFsdWVcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNvbnN0IHVybCA9IFwiaHR0cHM6Ly96d3p0LXphZGFuaWUubmV0bGlmeS5hcHAvYXBpL2xvZ2luXCI7XHJcbiAgICAgIFxyXG4gICAgICAgICAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XHJcbiAgICAgIFxyXG4gICAgICAgICAgaGVhZGVycy5hcHBlbmQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xyXG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxkcy1yaW5nJykuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XHJcbiAgICAgICAgICBmZXRjaCh1cmwsIHtcclxuICAgICAgICAgICAgICBtZXRob2Q6IFwicG9zdFwiLFxyXG4gICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXHJcbiAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkob2IpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxyXG4gICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sZHMtcmluZycpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XHJcbiAgICAgICAgICAgICAgaWYocmVzcG9uc2UubWVzc2FnZSA9PT0gXCJMb2dpbiBzdWNjZXNzIVwiKXtcclxuICAgICAgICAgICAgICAgICAgbGV0IGxpbmsgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcclxuICAgICAgICAgICAgICAgICAgaWYobGluay5jaGFyQXQobGluay5sZW5ndGgtMSkgPT09IFwiI1wiKXtcclxuICAgICAgICAgICAgICAgICAgICAgIGxpbmsgPSBsaW5rLnNsaWNlKDAsIC0xKVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2xvZ2luJywgJ3N1Y2Nlc3MnKTtcclxuICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVwbGFjZShgJHtsaW5rfSMvc3VjY2Vzc2ApXHJcbiAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgIGlmKCFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZXJyb3InKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yRGl2LmNsYXNzTmFtZSA9ICdlcnJvcidcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZXJyb3JUZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ1dwcm93YWR6acWCZcWbIG5pZXByYXdpZMWCb3d5IGxvZ2luIGx1YiBoYXPFgm8hJylcclxuICAgICAgICAgICAgICAgICAgICBlcnJvckRpdi5hcHBlbmRDaGlsZChlcnJvclRleHQpXHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ2luJykuYXBwZW5kQ2hpbGQoZXJyb3JEaXYpXHJcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnbG9naW4nLCAnZmFpbGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KVxyXG4gICAgICBcclxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsb2dpbicpLnZhbHVlPVwiXCJcclxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwYXNzd29yZCcpLnZhbHVlPVwiXCJcclxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfVxyXG4gIH0pXHJcbn0pO1xyXG5cclxucm91dGUoJy9zdWNjZXNzJywgJ3N1Y2Nlc3MnLCBmdW5jdGlvbigpIHtcclxuICBpZihzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdsb2dpbicpID09PSAnc3VjY2Vzcycpe1xyXG4gICAgICB0aGlzLnRpdGxlID0gJ0xvZ293YW5pZSBwcnplYmllZ8WCbyBwb215xZtsbmllLic7XHJcbiAgfWVsc2V7XHJcbiAgICAgIHRoaXMudGl0bGUgPSAnU3Ryb25hIGRvc3TEmXBuYSB0eWxrbyBkbGEgemFsb2dvd2FueWNoLic7XHJcbiAgfVxyXG59KTtcclxuXHJcbnJvdXRlKCcqJywgJzQwNCcsIGZ1bmN0aW9uICgpIHt9KTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==