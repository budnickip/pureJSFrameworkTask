(()=>{var e={471:(e,n,r)=>{(n=r(645)(!1)).push([e.id,":root{--baseOrange: #f1c50e;--darkerOrange: #f65d2c;--blackText: #111111;--whiteBackground: #FAFAFA}*{box-sizing:border-box;margin:0;padding:0}body{background-color:#ececf3;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center}.login{background-color:var(--baseOrange, orange);padding:1em;box-shadow:6px 6px 20px rgba(0,0,0,0.05)}.login__header{color:var(--blackText, black)}.login-form{margin-top:1em;display:flex;flex-direction:column;padding-left:34px;padding-right:34px}.login-form__input{color:var(--blackText, black);background-color:var(--whiteBackground, white);border:none;border-radius:15px;font-size:1em;line-height:25px;outline:none;padding:10px;margin:8px 0px}.login-form:focus{box-shadow:inset 0px 0px 3px 0px rgba(0,0,0,0.75)}.login-form__button{border:1px solid var(--darkerOrange, orange);border-radius:15px;padding:14px 28px 14px 28px;width:100px;background-color:white;color:var(--darkerOrange, orange);margin:20px 0px;align-self:flex-end;cursor:pointer;transition-property:background-color, color, font-weight;transition-duration:.5s}.login-form__button:hover{background-color:var(--darkerOrange, orange);color:white;font-weight:700}.error{font-size:0.8rem;font-style:italic;color:red}.loginTextError,.passwordTextError{font-size:0.8rem;font-style:italic;color:red}.loginInputError,.passwordInputError{border:2px solid red}.lds-ring{position:fixed;display:none;width:80px;height:80px;left:50%;top:50%;transform:translate(-50%, -50%)}.lds-ring div{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border:8px solid var(--darkerOrange, red);border-radius:50%;-webkit-animation:lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;animation:lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;border-color:var(--darkerOrange, red) transparent transparent transparent}.lds-ring div:nth-child(1){-webkit-animation-delay:-0.45s;animation-delay:-0.45s}.lds-ring div:nth-child(2){-webkit-animation-delay:-0.3s;animation-delay:-0.3s}.lds-ring div:nth-child(3){-webkit-animation-delay:-0.15s;animation-delay:-0.15s}@-webkit-keyframes lds-ring{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes lds-ring{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.navigation{position:fixed;top:15px;left:15px}.navigation__link{text-decoration:none;color:var(--blackText, black)}.success__header{color:var(--blackText, black)}\n",""]),e.exports=n},645:e=>{"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var r=function(e,n){var r,t,o,i=e[1]||"",a=e[3];if(!a)return i;if(n&&"function"==typeof btoa){var s=(r=a,t=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t),"/*# ".concat(o," */")),c=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[i].concat(c).concat([s]).join("\n")}return[i].join("\n")}(n,e);return n[2]?"@media ".concat(n[2]," {").concat(r,"}"):r})).join("")},n.i=function(e,r,t){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(t)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);t&&o[c[0]]||(r&&(c[2]?c[2]="".concat(r," and ").concat(c[2]):c[2]=r),n.push(c))}},n}},425:(e,n,r)=>{var t=r(379),o=r(471);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);t(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},379:(e,n,r)=>{"use strict";var t,o=function(){var e={};return function(n){if(void 0===e[n]){var r=document.querySelector(n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[n]=r}return e[n]}}(),i=[];function a(e){for(var n=-1,r=0;r<i.length;r++)if(i[r].identifier===e){n=r;break}return n}function s(e,n){for(var r={},t=[],o=0;o<e.length;o++){var s=e[o],c=n.base?s[0]+n.base:s[0],l=r[c]||0,d="".concat(c," ").concat(l);r[c]=l+1;var u=a(d),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==u?(i[u].references++,i[u].updater(p)):i.push({identifier:d,updater:m(p,n),references:1}),t.push(d)}return t}function c(e){var n=document.createElement("style"),t=e.attributes||{};if(void 0===t.nonce){var i=r.nc;i&&(t.nonce=i)}if(Object.keys(t).forEach((function(e){n.setAttribute(e,t[e])})),"function"==typeof e.insert)e.insert(n);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}return n}var l,d=(l=[],function(e,n){return l[e]=n,l.filter(Boolean).join("\n")});function u(e,n,r,t){var o=r?"":t.media?"@media ".concat(t.media," {").concat(t.css,"}"):t.css;if(e.styleSheet)e.styleSheet.cssText=d(n,o);else{var i=document.createTextNode(o),a=e.childNodes;a[n]&&e.removeChild(a[n]),a.length?e.insertBefore(i,a[n]):e.appendChild(i)}}function p(e,n,r){var t=r.css,o=r.media,i=r.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}var f=null,g=0;function m(e,n){var r,t,o;if(n.singleton){var i=g++;r=f||(f=c(n)),t=u.bind(null,r,i,!1),o=u.bind(null,r,i,!0)}else r=c(n),t=p.bind(null,r,n),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else o()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===t&&(t=Boolean(window&&document&&document.all&&!window.atob)),t));var r=s(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<r.length;t++){var o=a(r[t]);i[o].references--}for(var c=s(e,n),l=0;l<r.length;l++){var d=a(r[l]);0===i[d].references&&(i[d].updater(),i.splice(d,1))}r=c}}}}},n={};function r(t){if(n[t])return n[t].exports;var o=n[t]={id:t,exports:{}};return e[t](o,o.exports,r),o.exports}(()=>{"use strict";var e={},n=function n(r,t){"home"===r&&(document.querySelector("#app").innerHTML='\n   <div id="home">\n   <div class="login">\n    <h1 class="login__header"><%= title %></h1>\n    <div class="form">\n    <form class="login-form">\n        <input id="login" class="login-form__input" type="text" placeholder="Login" name="login" required>\n        <input id="password" class="login-form__input" type="password" placeholder="Password" name="password" required>\n        <button class="login-form__button" type="submit"><%= action %></button>\n    </form>\n    </div>\n    </div>\n    <div class="lds-ring"><div></div><div></div><div></div><div></div></div>\n   </div>'),"success"===r&&(document.querySelector("#app").innerHTML='\n    <div id="success">\n        <nav class="navigation">\n            <a class="navigation__link" href="#">← Powrót do logowania</a>\n        </nav>\n        <div class="success">\n             <h1 class="success__header"><%= title %></h1>\n        </div>\n    </div>\n    ');var o=/\W/.test(r)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+r.replace(/[\r\t\n]/g," ").split("&lt;%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%&gt;/g,"',$1,'").split("\t").join("');").split("%&gt;").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):e[r]=e[r]||n(document.getElementById(r).innerHTML);return t?o(t):o},t=null,o=[],i={},a=function(e,n,r){var t=[];r.prototype.$on=function(e,n,r){return o.push([e,n,r])},r.prototype.$refresh=function(){return t.forEach((function(e){return e()}))},i[e]={templateId:n,controller:r,onRefresh:t.push.bind(t)}},s=function(e){for(var n=0;n<o.length;n++)for(var r=t.querySelectorAll(o[n][0]),i=0;i<r.length;i++)r[i][e].apply(r[i],o[n].slice(1))},c=function(){t=t||document.getElementById("app"),s("removeEventListener"),o=[];var e=location.hash.slice(1)||"/",r=i[e]||i["*"];if(r&&r.controller){var a=new r.controller;r.onRefresh((function(){s("removeEventListener"),t.innerHTML=n(r.templateId,a),s("addEventListener")})),a.$refresh()}};window.addEventListener("hashchange",c),window.addEventListener("load",c),r(425);var l=function(e,n){var r=document.createElement("p");return r.className=e,r.appendChild(document.createTextNode(n)),r};a("/","home",(function(){this.title="Logowanie",this.action="Send",this.$on(".login-form__button","click",(function(e){var n=function(){var e=document.querySelector("#login");if(0==e.value.length){if(!e.classList.contains("loginInputError")){e.classList.add("loginInputError");var n=l("loginTextError","To pole nie może być puste!");e.parentElement.insertBefore(n,e.nextElementSibling)}return!1}return e.classList.remove("loginInputError"),e.value=e.value.trim(),document.querySelector(".loginTextError")&&document.querySelector(".loginTextError").remove(),!0}(),r=function(){var e=document.querySelector("#password");if(0==e.value.length){if(!e.classList.contains("passwordInputError")){e.classList.add("passwordInputError");var n=l("passwordTextError","To pole nie może być puste!");e.parentElement.insertBefore(n,e.nextElementSibling)}return!1}return e.classList.remove("passwordInputError"),e.value=e.value.trim(),document.querySelector(".passwordTextError")&&document.querySelector(".passwordTextError").remove(),!0}();if(console.log("login: ".concat(n,", password: ").concat(r)),n&&r){var t={username:document.querySelector("#login").value,password:document.querySelector("#password").value},o=new Headers;o.append("Content-Type","application/json"),document.querySelector(".lds-ring").style.display="block",fetch("https://zwzt-zadanie.netlify.app/api/login",{method:"post",headers:o,body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){if(document.querySelector(".lds-ring").style.display="none","Login success!"===e.message){var n=window.location.href;"#"===n.charAt(n.length-1)&&(n=n.slice(0,-1)),sessionStorage.setItem("login","success"),location.replace("".concat(n,"#/success"))}else if(!document.querySelector(".error")){var r=document.createElement("div");r.className="error";var t=document.createTextNode("Wprowadziłeś nieprawidłowy login lub hasło!");r.appendChild(t),document.querySelector(".login").appendChild(r),sessionStorage.setItem("login","failed")}})),document.querySelector("#login").value="",document.querySelector("#password").value="",e.preventDefault()}else e.preventDefault()}))})),a("/success","success",(function(){"success"===sessionStorage.getItem("login")?this.title="Logowanie przebiegło pomyślnie.":this.title="Strona dostępna tylko dla zalogowanych."})),a("*","404",(function(){}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96YWRhbmllLy4vc3JjL3N0eWxlcy9zdHlsZS5zY3NzIiwid2VicGFjazovL3phZGFuaWUvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL3phZGFuaWUvLi9zcmMvc3R5bGVzL3N0eWxlLnNjc3M/NDU1OCIsIndlYnBhY2s6Ly96YWRhbmllLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL3phZGFuaWUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vemFkYW5pZS8uL2VuZ2luZS5qcyIsIndlYnBhY2s6Ly96YWRhbmllLy4vc3JjL3NjcmlwdHMvaG9tZS5qcyIsIndlYnBhY2s6Ly96YWRhbmllLy4vc3JjL3NjcmlwdHMvc3VjY2Vzcy5qcyIsIndlYnBhY2s6Ly96YWRhbmllLy4vcm91dGVyLmpzIiwid2VicGFjazovL3phZGFuaWUvLi9zcmMvc2NyaXB0cy92YWxpZGF0ZUZvcm0uanMiLCJ3ZWJwYWNrOi8vemFkYW5pZS8uL3NyYy9hcHAuanMiXSwibmFtZXMiOlsiZXhwb3J0cyIsIl9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyIsInB1c2giLCJtb2R1bGUiLCJpZCIsInVzZVNvdXJjZU1hcCIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsInNvdXJjZU1hcCIsImJhc2U2NCIsImRhdGEiLCJjc3NNYXBwaW5nIiwiYnRvYSIsInNvdXJjZU1hcHBpbmciLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb25jYXQiLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJqb2luIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImkiLCJtb2R1bGVzIiwibWVkaWFRdWVyeSIsImRlZHVwZSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJsZW5ndGgiLCJfaSIsImFwaSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibG9jYWxzIiwibWVtbyIsImdldFRhcmdldCIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInN0eWxlc0luRG9tIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibW9kdWxlc1RvRG9tIiwib3B0aW9ucyIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsImJhc2UiLCJjb3VudCIsImluZGV4Iiwib2JqIiwiY3NzIiwibWVkaWEiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZFN0eWxlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsIm5vbmNlIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsIkJvb2xlYW4iLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiZmlyc3RDaGlsZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJ1cGRhdGUiLCJzdHlsZUluZGV4IiwiYmluZCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJhbGwiLCJhdG9iIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsInByb3RvdHlwZSIsImNhbGwiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaW5kZXgiLCJzcGxpY2UiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FjaGUiLCJlbmdpbmUiLCJzdHIiLCJpbm5lckhUTUwiLCJmbiIsInRlc3QiLCJGdW5jdGlvbiIsInJlcGxhY2UiLCJzcGxpdCIsImdldEVsZW1lbnRCeUlkIiwiZWwiLCJldmVudHMiLCJyb3V0ZXMiLCJyb3V0ZSIsInBhdGgiLCJ0ZW1wbGF0ZUlkIiwiY29udHJvbGxlciIsImxpc3RlbmVycyIsIiRvbiIsInNlbGVjdG9yIiwiZXZ0IiwiaGFuZGxlciIsIiRyZWZyZXNoIiwib25SZWZyZXNoIiwiZm9yRWFjaEV2ZW50IiwiZm5OYW1lIiwiZWxzIiwicXVlcnlTZWxlY3RvckFsbCIsImoiLCJhcHBseSIsInNsaWNlIiwicm91dGVyIiwidXJsIiwibG9jYXRpb24iLCJoYXNoIiwiY3RybCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjcmVhdGVFcnJvciIsImNsYXNzTmFtZSIsInRleHQiLCJuZXdFcnJvciIsInRpdGxlIiwiYWN0aW9uIiwiZXZlbnQiLCJsb2dpblZhbGlkYXRpb24iLCJsb2dpbiIsInZhbHVlIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJhZGQiLCJwYXJlbnRFbGVtZW50IiwibmV4dEVsZW1lbnRTaWJsaW5nIiwidHJpbSIsInZhbGlkYXRlTG9naW4iLCJwYXNzd29yZFZhbGlkYXRpb24iLCJwYXNzd29yZCIsInZhbGlkYXRlUGFzc3dvcmQiLCJjb25zb2xlIiwibG9nIiwib2IiLCJ1c2VybmFtZSIsImhlYWRlcnMiLCJIZWFkZXJzIiwiYXBwZW5kIiwiZGlzcGxheSIsImZldGNoIiwibWV0aG9kIiwiYm9keSIsInRoZW4iLCJyZXNwb25zZSIsImpzb24iLCJtZXNzYWdlIiwibGluayIsImhyZWYiLCJjaGFyQXQiLCJzZXNzaW9uU3RvcmFnZSIsInNldEl0ZW0iLCJlcnJvckRpdiIsImVycm9yVGV4dCIsInByZXZlbnREZWZhdWx0IiwiZ2V0SXRlbSJdLCJtYXBwaW5ncyI6IjRCQUVBQSxFQURrQyxFQUFRLElBQ2hDQyxFQUE0QixJQUU5QkMsS0FBSyxDQUFDQyxFQUFPQyxHQUFJLGkzRUFBazNFLEtBRTM0RUQsRUFBT0gsUUFBVUEsRyxxQkNFakJHLEVBQU9ILFFBQVUsU0FBVUssR0FDekIsSUFBSUMsRUFBTyxHQXVEWCxPQXJEQUEsRUFBS0MsU0FBVyxXQUNkLE9BQU9DLEtBQUtDLEtBQUksU0FBVUMsR0FDeEIsSUFBSUMsRUFzRFYsU0FBZ0NELEVBQU1MLEdBQ3BDLElBb0JpQk8sRUFFYkMsRUFDQUMsRUF2QkFILEVBQVVELEVBQUssSUFBTSxHQUVyQkssRUFBYUwsRUFBSyxHQUV0QixJQUFLSyxFQUNILE9BQU9KLEVBR1QsR0FBSU4sR0FBZ0MsbUJBQVRXLEtBQXFCLENBQzlDLElBQUlDLEdBV1dMLEVBWGVHLEVBYTVCRixFQUFTRyxLQUFLRSxTQUFTQyxtQkFBbUJDLEtBQUtDLFVBQVVULE1BQ3pERSxFQUFPLCtEQUErRFEsT0FBT1QsR0FDMUUsT0FBT1MsT0FBT1IsRUFBTSxRQWRyQlMsRUFBYVIsRUFBV1MsUUFBUWYsS0FBSSxTQUFVZ0IsR0FDaEQsTUFBTyxpQkFBaUJILE9BQU9QLEVBQVdXLFlBQWMsSUFBSUosT0FBT0csRUFBUSxVQUU3RSxNQUFPLENBQUNkLEdBQVNXLE9BQU9DLEdBQVlELE9BQU8sQ0FBQ0wsSUFBZ0JVLEtBQUssTUFHbkUsTUFBTyxDQUFDaEIsR0FBU2dCLEtBQUssTUF2RUpDLENBQXVCbEIsRUFBTUwsR0FFM0MsT0FBSUssRUFBSyxHQUNBLFVBQVVZLE9BQU9aLEVBQUssR0FBSSxNQUFNWSxPQUFPWCxFQUFTLEtBR2xEQSxLQUNOZ0IsS0FBSyxLQUtWckIsRUFBS3VCLEVBQUksU0FBVUMsRUFBU0MsRUFBWUMsR0FDZixpQkFBWkYsSUFFVEEsRUFBVSxDQUFDLENB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Q3pILFNBQVNDLGNBQWMsYUFBYXdILE1BQU0sR0FDMUNILEVBQU1vQyxzQkFFUnBDLEVBQU1vQyx1QkFLZGxFLEVBQU0sV0FBWSxXQUFXLFdBQ1ksWUFBcEM4RCxlQUFlSyxRQUFRLFNBQ3RCL0wsS0FBS3dKLE1BQVEsa0NBRWJ4SixLQUFLd0osTUFBUSw2Q0FJbkI1QixFQUFNLElBQUssT0FBTyxnQiIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiOnJvb3R7LS1iYXNlT3JhbmdlOiAjZjFjNTBlOy0tZGFya2VyT3JhbmdlOiAjZjY1ZDJjOy0tYmxhY2tUZXh0OiAjMTExMTExOy0td2hpdGVCYWNrZ3JvdW5kOiAjRkFGQUZBfSp7Ym94LXNpemluZzpib3JkZXItYm94O21hcmdpbjowO3BhZGRpbmc6MH1ib2R5e2JhY2tncm91bmQtY29sb3I6I2VjZWNmMzt3aWR0aDoxMDB2dztoZWlnaHQ6MTAwdmg7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5sb2dpbntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWJhc2VPcmFuZ2UsIG9yYW5nZSk7cGFkZGluZzoxZW07Ym94LXNoYWRvdzo2cHggNnB4IDIwcHggcmdiYSgwLDAsMCwwLjA1KX0ubG9naW5fX2hlYWRlcntjb2xvcjp2YXIoLS1ibGFja1RleHQsIGJsYWNrKX0ubG9naW4tZm9ybXttYXJnaW4tdG9wOjFlbTtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO3BhZGRpbmctbGVmdDozNHB4O3BhZGRpbmctcmlnaHQ6MzRweH0ubG9naW4tZm9ybV9faW5wdXR7Y29sb3I6dmFyKC0tYmxhY2tUZXh0LCBibGFjayk7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13aGl0ZUJhY2tncm91bmQsIHdoaXRlKTtib3JkZXI6bm9uZTtib3JkZXItcmFkaXVzOjE1cHg7Zm9udC1zaXplOjFlbTtsaW5lLWhlaWdodDoyNXB4O291dGxpbmU6bm9uZTtwYWRkaW5nOjEwcHg7bWFyZ2luOjhweCAwcHh9LmxvZ2luLWZvcm06Zm9jdXN7Ym94LXNoYWRvdzppbnNldCAwcHggMHB4IDNweCAwcHggcmdiYSgwLDAsMCwwLjc1KX0ubG9naW4tZm9ybV9fYnV0dG9ue2JvcmRlcjoxcHggc29saWQgdmFyKC0tZGFya2VyT3JhbmdlLCBvcmFuZ2UpO2JvcmRlci1yYWRpdXM6MTVweDtwYWRkaW5nOjE0cHggMjhweCAxNHB4IDI4cHg7d2lkdGg6MTAwcHg7YmFja2dyb3VuZC1jb2xvcjp3aGl0ZTtjb2xvcjp2YXIoLS1kYXJrZXJPcmFuZ2UsIG9yYW5nZSk7bWFyZ2luOjIwcHggMHB4O2FsaWduLXNlbGY6ZmxleC1lbmQ7Y3Vyc29yOnBvaW50ZXI7dHJhbnNpdGlvbi1wcm9wZXJ0eTpiYWNrZ3JvdW5kLWNvbG9yLCBjb2xvciwgZm9udC13ZWlnaHQ7dHJhbnNpdGlvbi1kdXJhdGlvbjouNXN9LmxvZ2luLWZvcm1fX2J1dHRvbjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWRhcmtlck9yYW5nZSwgb3JhbmdlKTtjb2xvcjp3aGl0ZTtmb250LXdlaWdodDo3MDB9LmVycm9ye2ZvbnQtc2l6ZTowLjhyZW07Zm9udC1zdHlsZTppdGFsaWM7Y29sb3I6cmVkfS5sb2dpblRleHRFcnJvciwucGFzc3dvcmRUZXh0RXJyb3J7Zm9udC1zaXplOjAuOHJlbTtmb250LXN0eWxlOml0YWxpYztjb2xvcjpyZWR9LmxvZ2luSW5wdXRFcnJvciwucGFzc3dvcmRJbnB1dEVycm9ye2JvcmRlcjoycHggc29saWQgcmVkfS5sZHMtcmluZ3twb3NpdGlvbjpmaXhlZDtkaXNwbGF5Om5vbmU7d2lkdGg6ODBweDtoZWlnaHQ6ODBweDtsZWZ0OjUwJTt0b3A6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwgLTUwJSl9Lmxkcy1yaW5nIGRpdntib3gtc2l6aW5nOmJvcmRlci1ib3g7ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDo2NHB4O2hlaWdodDo2NHB4O21hcmdpbjo4cHg7Ym9yZGVyOjhweCBzb2xpZCB2YXIoLS1kYXJrZXJPcmFuZ2UsIHJlZCk7Ym9yZGVyLXJhZGl1czo1MCU7LXdlYmtpdC1hbmltYXRpb246bGRzLXJpbmcgMS4ycyBjdWJpYy1iZXppZXIoMC41LCAwLCAwLjUsIDEpIGluZmluaXRlO2FuaW1hdGlvbjpsZHMtcmluZyAxLjJzIGN1YmljLWJlemllcigwLjUsIDAsIDAuNSwgMSkgaW5maW5pdGU7Ym9yZGVyLWNvbG9yOnZhcigtLWRhcmtlck9yYW5nZSwgcmVkKSB0cmFuc3BhcmVudCB0cmFuc3BhcmVudCB0cmFuc3BhcmVudH0ubGRzLXJpbmcgZGl2Om50aC1jaGlsZCgxKXstd2Via2l0LWFuaW1hdGlvbi1kZWxheTotMC40NXM7YW5pbWF0aW9uLWRlbGF5Oi0wLjQ1c30ubGRzLXJpbmcgZGl2Om50aC1jaGlsZCgyKXstd2Via2l0LWFuaW1hdGlvbi1kZWxheTotMC4zczthbmltYXRpb24tZGVsYXk6LTAuM3N9Lmxkcy1yaW5nIGRpdjpudGgtY2hpbGQoMyl7LXdlYmtpdC1hbmltYXRpb24tZGVsYXk6LTAuMTVzO2FuaW1hdGlvbi1kZWxheTotMC4xNXN9QC13ZWJraXQta2V5ZnJhbWVzIGxkcy1yaW5nezAle3RyYW5zZm9ybTpyb3RhdGUoMGRlZyl9MTAwJXt0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyl9fUBrZXlmcmFtZXMgbGRzLXJpbmd7MCV7dHJhbnNmb3JtOnJvdGF0ZSgwZGVnKX0xMDAle3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKX19Lm5hdmlnYXRpb257cG9zaXRpb246Zml4ZWQ7dG9wOjE1cHg7bGVmdDoxNXB4fS5uYXZpZ2F0aW9uX19saW5re3RleHQtZGVjb3JhdGlvbjpub25lO2NvbG9yOnZhcigtLWJsYWNrVGV4dCwgYmxhY2spfS5zdWNjZXNzX19oZWFkZXJ7Y29sb3I6dmFyKC0tYmxhY2tUZXh0LCBibGFjayl9XFxuXCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGNvbnRlbnQsIFwifVwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbignJyk7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCAnJ11dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbW9kdWxlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2ldKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsyXSA9IFwiXCIuY29uY2F0KG1lZGlhUXVlcnksIFwiIGFuZCBcIikuY29uY2F0KGl0ZW1bMl0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuXG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8ICcnKS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59IC8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcblxuXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcbiAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICByZXR1cm4gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xufSIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1sxXS51c2VbMl0hLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuc2Nzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIikuY29uY2F0KG9iai5jc3MsIFwifVwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cbiAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuICB9XG5cbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdMaXN0KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRvbVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5Eb21bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5Eb20uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIFNpbXBsZSBKYXZhU2NyaXB0IFRlbXBsYXRpbmdcclxuLy8gSm9obiBSZXNpZyAtIGh0dHBzOi8vam9obnJlc2lnLmNvbS8gLSBNSVQgTGljZW5zZWRcclxuaW1wb3J0IGhvbWUgZnJvbSAnLi9zcmMvc2NyaXB0cy9ob21lJ1xyXG5pbXBvcnQgc3VjY2VzcyBmcm9tICcuL3NyYy9zY3JpcHRzL3N1Y2Nlc3MnXHJcbmNvbnN0IGNhY2hlID0ge307XHJcblxyXG5leHBvcnQgY29uc3QgZW5naW5lID0gKHN0ciwgZGF0YSkgPT4ge1xyXG4gIC8vIEZpZ3VyZSBvdXQgaWYgd2UncmUgZ2V0dGluZyBhIHRlbXBsYXRlLCBvciBpZiB3ZSBuZWVkIHRvXHJcbiAgLy8gbG9hZCB0aGUgdGVtcGxhdGUgLSBhbmQgYmUgc3VyZSB0byBjYWNoZSB0aGUgcmVzdWx0LlxyXG4gIGlmKHN0ciA9PT0gJ2hvbWUnKXtcclxuICAgIGhvbWUoKVxyXG4gIH1cclxuICBpZihzdHIgPT09ICdzdWNjZXNzJyl7XHJcbiAgICBzdWNjZXNzKClcclxuICB9XHJcblxyXG4gIGNvbnN0IGZuID0gIS9cXFcvLnRlc3Qoc3RyKSA/IGNhY2hlW3N0cl0gPSBjYWNoZVtzdHJdIHx8IGVuZ2luZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdHIpLmlubmVySFRNTCkgOlxyXG4gICAgLy8gR2VuZXJhdGUgYSByZXVzYWJsZSBmdW5jdGlvbiB0aGF0IHdpbGwgc2VydmUgYXMgYSB0ZW1wbGF0ZVxyXG4gICAgLy8gZ2VuZXJhdG9yIChhbmQgd2hpY2ggd2lsbCBiZSBjYWNoZWQpLlxyXG4gICAgbmV3IEZ1bmN0aW9uKFwib2JqXCIsXHJcbiAgICAgIFwidmFyIHA9W10scHJpbnQ9ZnVuY3Rpb24oKXtwLnB1c2guYXBwbHkocCxhcmd1bWVudHMpO307XCIgKyAgICAgICAgICAgICBcclxuICAgICAgLy8gSW50cm9kdWNlIHRoZSBkYXRhIGFzIGxvY2FsIHZhcmlhYmxlcyB1c2luZyB3aXRoKCl7fVxyXG4gICAgICBcIndpdGgob2JqKXtwLnB1c2goJ1wiICtcclxuICAgICAgLy8gQ29udmVydCB0aGUgdGVtcGxhdGUgaW50byBwdXJlIEphdmFTY3JpcHRcclxuICAgICAgc3RyXHJcbiAgICAgICAgLnJlcGxhY2UoL1tcXHJcXHRcXG5dL2csIFwiIFwiKVxyXG4gICAgICAgIC5zcGxpdChcIiZsdDslXCIpLmpvaW4oXCJcXHRcIilcclxuICAgICAgICAucmVwbGFjZSgvKChefCU+KVteXFx0XSopJy9nLCBcIiQxXFxyXCIpXHJcbiAgICAgICAgLnJlcGxhY2UoL1xcdD0oLio/KSUmZ3Q7L2csIFwiJywkMSwnXCIpXHJcbiAgICAgICAgLnNwbGl0KFwiXFx0XCIpLmpvaW4oXCInKTtcIilcclxuICAgICAgICAuc3BsaXQoXCIlJmd0O1wiKS5qb2luKFwicC5wdXNoKCdcIilcclxuICAgICAgICAuc3BsaXQoXCJcXHJcIikuam9pbihcIlxcXFwnXCIpXHJcbiAgICArIFwiJyk7fXJldHVybiBwLmpvaW4oJycpO1wiKTtcclxuICAgXHJcbiAgLy8gUHJvdmlkZSBzb21lIGJhc2ljIGN1cnJ5aW5nIHRvIHRoZSB1c2VyXHJcbiAgcmV0dXJuIGRhdGEgPyBmbiggZGF0YSApIDogZm47XHJcbn07XHJcbiIsImNvbnN0IGhvbWUgPSAoKSA9PntcclxuICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FwcCcpLmlubmVySFRNTCA9YFxyXG4gICA8ZGl2IGlkPVwiaG9tZVwiPlxyXG4gICA8ZGl2IGNsYXNzPVwibG9naW5cIj5cclxuICAgIDxoMSBjbGFzcz1cImxvZ2luX19oZWFkZXJcIj48JT0gdGl0bGUgJT48L2gxPlxyXG4gICAgPGRpdiBjbGFzcz1cImZvcm1cIj5cclxuICAgIDxmb3JtIGNsYXNzPVwibG9naW4tZm9ybVwiPlxyXG4gICAgICAgIDxpbnB1dCBpZD1cImxvZ2luXCIgY2xhc3M9XCJsb2dpbi1mb3JtX19pbnB1dFwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJMb2dpblwiIG5hbWU9XCJsb2dpblwiIHJlcXVpcmVkPlxyXG4gICAgICAgIDxpbnB1dCBpZD1cInBhc3N3b3JkXCIgY2xhc3M9XCJsb2dpbi1mb3JtX19pbnB1dFwiIHR5cGU9XCJwYXNzd29yZFwiIHBsYWNlaG9sZGVyPVwiUGFzc3dvcmRcIiBuYW1lPVwicGFzc3dvcmRcIiByZXF1aXJlZD5cclxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwibG9naW4tZm9ybV9fYnV0dG9uXCIgdHlwZT1cInN1Ym1pdFwiPjwlPSBhY3Rpb24gJT48L2J1dHRvbj5cclxuICAgIDwvZm9ybT5cclxuICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwibGRzLXJpbmdcIj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjwvZGl2PlxyXG4gICA8L2Rpdj5gXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGhvbWUiLCJjb25zdCBzdWNjZXNzID0gKCkgPT57XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYXBwJykuaW5uZXJIVE1MID1gXHJcbiAgICA8ZGl2IGlkPVwic3VjY2Vzc1wiPlxyXG4gICAgICAgIDxuYXYgY2xhc3M9XCJuYXZpZ2F0aW9uXCI+XHJcbiAgICAgICAgICAgIDxhIGNsYXNzPVwibmF2aWdhdGlvbl9fbGlua1wiIGhyZWY9XCIjXCI+4oaQIFBvd3LDs3QgZG8gbG9nb3dhbmlhPC9hPlxyXG4gICAgICAgIDwvbmF2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzdWNjZXNzXCI+XHJcbiAgICAgICAgICAgICA8aDEgY2xhc3M9XCJzdWNjZXNzX19oZWFkZXJcIj48JT0gdGl0bGUgJT48L2gxPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgICBgXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHN1Y2Nlc3MiLCIvLyBKYXZhU2NyaXB0IHJvdXRlciBpbiAyMCBsaW5lc1xyXG4vLyBKb2FraW0gQ2FybHN0ZWluIC0gaHR0cHM6Ly9qb2FraW0uYmVuZy5zZS9cclxuaW1wb3J0IHsgZW5naW5lIH0gZnJvbSAnLi9lbmdpbmUnO1xyXG5sZXQgZWwgPSBudWxsO1xyXG5sZXQgZXZlbnRzID0gW107XHJcbmNvbnN0IHJvdXRlcyA9IHt9O1xyXG5cclxuZXhwb3J0IGNvbnN0IHJvdXRlID0gKHBhdGgsIHRlbXBsYXRlSWQsIGNvbnRyb2xsZXIpID0+IHtcclxuICBjb25zdCBsaXN0ZW5lcnMgPSBbXTtcclxuICBjb250cm9sbGVyLnByb3RvdHlwZS4kb24gPSAoc2VsZWN0b3IsIGV2dCwgaGFuZGxlcikgPT4gZXZlbnRzLnB1c2goW3NlbGVjdG9yLCBldnQsIGhhbmRsZXJdKTtcclxuICBjb250cm9sbGVyLnByb3RvdHlwZS4kcmVmcmVzaCA9ICgpID0+IGxpc3RlbmVycy5mb3JFYWNoKGZuID0+IGZuKCkpO1xyXG4gIHJvdXRlc1twYXRoXSA9IHtcclxuICAgIHRlbXBsYXRlSWQ6IHRlbXBsYXRlSWQsXHJcbiAgICBjb250cm9sbGVyOiBjb250cm9sbGVyLFxyXG4gICAgb25SZWZyZXNoOiBsaXN0ZW5lcnMucHVzaC5iaW5kKGxpc3RlbmVycylcclxuICB9O1xyXG59O1xyXG5cclxuY29uc3QgZm9yRWFjaEV2ZW50ID0gZm5OYW1lID0+IHtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgY29uc3QgZWxzID0gZWwucXVlcnlTZWxlY3RvckFsbChldmVudHNbaV1bMF0pO1xyXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBlbHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgZWxzW2pdW2ZuTmFtZV0uYXBwbHkoZWxzW2pdLCBldmVudHNbaV0uc2xpY2UoMSkpO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IHJvdXRlciA9ICgpID0+IHtcclxuICAvLyBMYXp5IGxvYWQgdmlldyBlbGVtZW50OlxyXG4gIGVsID0gZWwgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpO1xyXG4gIC8vIFJlbW92ZSBjdXJyZW50IGV2ZW50IGxpc3RlbmVyczpcclxuICBmb3JFYWNoRXZlbnQoJ3JlbW92ZUV2ZW50TGlzdGVuZXInKTtcclxuICAvLyBDbGVhciBldmVudHMsIHRvIHByZXBhcmUgZm9yIG5leHQgcmVuZGVyOlxyXG4gIGV2ZW50cyA9IFtdO1xyXG4gIC8vIEN1cnJlbnQgcm91dGUgdXJsIChnZXR0aW5nIHJpZCBvZiAnIycgaW4gaGFzaCBhcyB3ZWxsKTpcclxuICBjb25zdCB1cmwgPSBsb2NhdGlvbi5oYXNoLnNsaWNlKDEpIHx8ICcvJztcclxuICAvLyBHZXQgcm91dGUgYnkgdXJsIG9yIGZhbGxiYWNrIGlmIGl0IGRvZXMgbm90IGV4aXN0OlxyXG4gIGNvbnN0IHJvdXRlID0gcm91dGVzW3VybF0gfHwgcm91dGVzWycqJ107XHJcbiAgaWYgKHJvdXRlICYmIHJvdXRlLmNvbnRyb2xsZXIpIHtcclxuICAgIGNvbnN0IGN0cmwgPSBuZXcgcm91dGUuY29udHJvbGxlcigpO1xyXG4gICAgLy8gTGlzdGVuIG9uIHJvdXRlIHJlZnJlc2hlczpcclxuICAgIHJvdXRlLm9uUmVmcmVzaCgoKSA9PiB7XHJcbiAgICAgIGZvckVhY2hFdmVudCgncmVtb3ZlRXZlbnRMaXN0ZW5lcicpO1xyXG4gICAgICAvLyBSZW5kZXIgcm91dGUgdGVtcGxhdGUgd2l0aCBKb2huIFJlc2lnJ3MgdGVtcGxhdGUgZW5naW5lOlxyXG4gICAgICBlbC5pbm5lckhUTUwgPSBlbmdpbmUocm91dGUudGVtcGxhdGVJZCwgY3RybCk7XHJcbiAgICAgIGZvckVhY2hFdmVudCgnYWRkRXZlbnRMaXN0ZW5lcicpO1xyXG4gICAgfSk7XHJcbiAgICAvLyBUcmlnZ2VyIHRoZSBmaXJzdCByZWZyZXNoOlxyXG4gICAgY3RybC4kcmVmcmVzaCgpO1xyXG4gIH1cclxufTtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgcm91dGVyKTtcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCByb3V0ZXIpOyIsImV4cG9ydCBjb25zdCB2YWxpZGF0ZUxvZ2luID0gKCkgPT57XHJcbiAgICBjb25zdCBsb2dpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsb2dpbicpXHJcbiAgICBpZihsb2dpbi52YWx1ZS5sZW5ndGggPT0gMCl7XHJcbiAgICAgICAgaWYoIWxvZ2luLmNsYXNzTGlzdC5jb250YWlucygnbG9naW5JbnB1dEVycm9yJykpe1xyXG4gICAgICAgICAgICBsb2dpbi5jbGFzc0xpc3QuYWRkKCdsb2dpbklucHV0RXJyb3InKVxyXG4gICAgICAgICAgICBsZXQgbmV3RXJyb3IgPSBjcmVhdGVFcnJvcignbG9naW5UZXh0RXJyb3InLCBcIlRvIHBvbGUgbmllIG1vxbxlIGJ5xIcgcHVzdGUhXCIpXHJcbiAgICAgICAgICAgIGxvZ2luLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKG5ld0Vycm9yLCBsb2dpbi5uZXh0RWxlbWVudFNpYmxpbmcpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgbG9naW4uY2xhc3NMaXN0LnJlbW92ZSgnbG9naW5JbnB1dEVycm9yJylcclxuICAgICAgICBsb2dpbi52YWx1ZSA9IGxvZ2luLnZhbHVlLnRyaW0oKVxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2dpblRleHRFcnJvcicpID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ2luVGV4dEVycm9yJykucmVtb3ZlKCkgOiAnJ1xyXG4gICAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCB2YWxpZGF0ZVBhc3N3b3JkID0gKCkgPT57XHJcbiAgICBjb25zdCBwYXNzd29yZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwYXNzd29yZCcpXHJcblxyXG4gICAgaWYocGFzc3dvcmQudmFsdWUubGVuZ3RoID09IDApe1xyXG4gICAgICAgIGlmKCFwYXNzd29yZC5jbGFzc0xpc3QuY29udGFpbnMoJ3Bhc3N3b3JkSW5wdXRFcnJvcicpKXtcclxuICAgICAgICAgICAgcGFzc3dvcmQuY2xhc3NMaXN0LmFkZCgncGFzc3dvcmRJbnB1dEVycm9yJylcclxuICAgICAgICAgICAgbGV0IG5ld0Vycm9yID0gY3JlYXRlRXJyb3IoJ3Bhc3N3b3JkVGV4dEVycm9yJywgXCJUbyBwb2xlIG5pZSBtb8W8ZSBiecSHIHB1c3RlIVwiKVxyXG4gICAgICAgICAgICBwYXNzd29yZC5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShuZXdFcnJvciwgcGFzc3dvcmQubmV4dEVsZW1lbnRTaWJsaW5nKVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1lbHNle1xyXG4gICAgICAgIHBhc3N3b3JkLmNsYXNzTGlzdC5yZW1vdmUoJ3Bhc3N3b3JkSW5wdXRFcnJvcicpXHJcbiAgICAgICAgcGFzc3dvcmQudmFsdWUgPSBwYXNzd29yZC52YWx1ZS50cmltKClcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFzc3dvcmRUZXh0RXJyb3InKSA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYXNzd29yZFRleHRFcnJvcicpLnJlbW92ZSgpIDogJydcclxuICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbmNvbnN0IGNyZWF0ZUVycm9yID0gKGNsYXNzTmFtZSwgdGV4dCkgPT4ge1xyXG4gICAgbGV0IG5ld0Vycm9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXHJcbiAgICBuZXdFcnJvci5jbGFzc05hbWUgPSBjbGFzc05hbWVcclxuICAgIG5ld0Vycm9yLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHQpKVxyXG4gICAgcmV0dXJuIG5ld0Vycm9yXHJcbn0iLCJpbXBvcnQgeyByb3V0ZSB9IGZyb20gJy4uL3JvdXRlcic7XHJcbmltcG9ydCAnLi9zdHlsZXMvc3R5bGUuc2Nzcyc7XHJcbmltcG9ydCB7dmFsaWRhdGVMb2dpbiwgdmFsaWRhdGVQYXNzd29yZH0gZnJvbSAnLi9zY3JpcHRzL3ZhbGlkYXRlRm9ybSc7XHJcblxyXG5yb3V0ZSgnLycsICdob21lJywgZnVuY3Rpb24oKSB7XHJcbiAgdGhpcy50aXRsZSA9ICdMb2dvd2FuaWUnO1xyXG4gIHRoaXMuYWN0aW9uID0gJ1NlbmQnO1xyXG4gIHRoaXMuJG9uKCcubG9naW4tZm9ybV9fYnV0dG9uJywgJ2NsaWNrJywgKGV2ZW50KT0+e1xyXG4gICAgbGV0IGxvZ2luVmFsaWRhdGlvbiA9IHZhbGlkYXRlTG9naW4oKVxyXG4gICAgbGV0IHBhc3N3b3JkVmFsaWRhdGlvbiA9IHZhbGlkYXRlUGFzc3dvcmQoKVxyXG4gICAgY29uc29sZS5sb2coYGxvZ2luOiAke2xvZ2luVmFsaWRhdGlvbn0sIHBhc3N3b3JkOiAke3Bhc3N3b3JkVmFsaWRhdGlvbn1gKVxyXG4gICAgaWYobG9naW5WYWxpZGF0aW9uICYmIHBhc3N3b3JkVmFsaWRhdGlvbil7XHJcbiAgICAgICAgY29uc3Qgb2IgPSB7XHJcbiAgICAgICAgICAgIHVzZXJuYW1lOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbG9naW4nKS52YWx1ZSxcclxuICAgICAgICAgICAgcGFzc3dvcmQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwYXNzd29yZCcpLnZhbHVlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjb25zdCB1cmwgPSBcImh0dHBzOi8vend6dC16YWRhbmllLm5ldGxpZnkuYXBwL2FwaS9sb2dpblwiO1xyXG4gICAgICBcclxuICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xyXG4gICAgICBcclxuICAgICAgICAgIGhlYWRlcnMuYXBwZW5kKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcclxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sZHMtcmluZycpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xyXG4gICAgICAgICAgZmV0Y2godXJsLCB7XHJcbiAgICAgICAgICAgICAgbWV0aG9kOiBcInBvc3RcIixcclxuICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxyXG4gICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG9iKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcclxuICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGRzLXJpbmcnKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xyXG4gICAgICAgICAgICAgIGlmKHJlc3BvbnNlLm1lc3NhZ2UgPT09IFwiTG9naW4gc3VjY2VzcyFcIil7XHJcbiAgICAgICAgICAgICAgICAgIGxldCBsaW5rID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XHJcbiAgICAgICAgICAgICAgICAgIGlmKGxpbmsuY2hhckF0KGxpbmsubGVuZ3RoLTEpID09PSBcIiNcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgICBsaW5rID0gbGluay5zbGljZSgwLCAtMSlcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdsb2dpbicsICdzdWNjZXNzJyk7XHJcbiAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlcGxhY2UoYCR7bGlua30jL3N1Y2Nlc3NgKVxyXG4gICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICBpZighZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVycm9yJykpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgICAgICAgICAgICAgICBlcnJvckRpdi5jbGFzc05hbWUgPSAnZXJyb3InXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVycm9yVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCdXcHJvd2FkemnFgmXFmyBuaWVwcmF3aWTFgm93eSBsb2dpbiBsdWIgaGFzxYJvIScpXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JEaXYuYXBwZW5kQ2hpbGQoZXJyb3JUZXh0KVxyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2dpbicpLmFwcGVuZENoaWxkKGVycm9yRGl2KVxyXG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2xvZ2luJywgJ2ZhaWxlZCcpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgXHJcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbG9naW4nKS52YWx1ZT1cIlwiXHJcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGFzc3dvcmQnKS52YWx1ZT1cIlwiXHJcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH1cclxuICB9KVxyXG59KTtcclxuXHJcbnJvdXRlKCcvc3VjY2VzcycsICdzdWNjZXNzJywgZnVuY3Rpb24oKSB7XHJcbiAgaWYoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnbG9naW4nKSA9PT0gJ3N1Y2Nlc3MnKXtcclxuICAgICAgdGhpcy50aXRsZSA9ICdMb2dvd2FuaWUgcHJ6ZWJpZWfFgm8gcG9tecWbbG5pZS4nO1xyXG4gIH1lbHNle1xyXG4gICAgICB0aGlzLnRpdGxlID0gJ1N0cm9uYSBkb3N0xJlwbmEgdHlsa28gZGxhIHphbG9nb3dhbnljaC4nO1xyXG4gIH1cclxufSk7XHJcblxyXG5yb3V0ZSgnKicsICc0MDQnLCBmdW5jdGlvbiAoKSB7fSk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=